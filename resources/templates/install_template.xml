<!-- ?xml version="1.0" encoding="iso-8859-1" standalone="yes" ?-->
<!-- 
    Installation for JSesh
-->
<installation version="1.0">
	<!-- 
        The info section.
        The meaning of the tags should be natural ...
    -->
	<info>
		<appname>JSesh</appname>
		<appversion>@JSESHVERSION@</appversion>
		<authors>
			<author name="Serge Rosmorduc" email="rosmord@iut.univ-paris8.fr"/>
		</authors>
		<url>http://www.iut.univ-paris8.fr/~rosmord/JSesh/</url>
		<javaversion>1.4</javaversion>
		<!-- It seems that the uninstaller can be somehow violent.
			A user lost his Desktop content after choosing by mistake the Desktop
			as JSesh installation directory, and then using the uninstaller.
			(notice that if you install in Desktop/JSesh, for instance, there is no problem).
			Hence we suppress the uninstaller. I don't use it anyway.
		 -->
		<uninstaller write="no"/>
	</info>
	<!-- 
        The gui preferences indication.
        Sets the installer window to 640x480. It will not be able to change the size.
    -->
	<guiprefs width="640" height="480" resizable="no">
		<laf name="liquid">
			<os family="unix"/>
		</laf>
	</guiprefs>
	
	<!-- 
        The locale section.
        Asks here to include the English and French langpacks.
    -->
    
	<locale>
		<langpack iso3="eng"/>
		<langpack iso3="fra"/>
		<langpack iso3="deu"/>
	</locale>
	
	<!-- 
        The resources section.
        The ids must be these ones if you want to use the LicencePanel and/or the InfoPanel.
    -->
	
	<resources>
		<res id="LicencePanel.licence" src="../resources/licenses/LICENSE.txt"/>
		<res id="HTMLInfoPanel.info" src="../resources/licenses/Readme.html"/>
	    <!--res src="Win_shortcutSpec.xml" id="Win_shortcutSpec.xml"/-->
		<res id="Unix_shortcutSpec.xml" src="../resources/installer/Unix_shortcutSpec.xml"/>
	    <res  id="shortcutSpec.xml" src="../resources/installer/Win_shortcutSpec.xml"/>
	    <res id="Installer.image" src="../resources/images/hibou.png"/>
		<res id="XInfoPanel.info" src="../resources/installer/info.txt"/>
	</resources>
	
	<!-- 
        The panels section.
        We indicate here which panels we want to use. The order will be respected.
    -->
	
	<panels>
		<panel classname="HelloPanel"/>
		<panel classname="HTMLInfoPanel"/>
		<panel classname="LicencePanel"/>
		<panel classname="TargetPanel"/>
		<panel classname="PacksPanel"/>
		<panel classname="InstallPanel"/>
		<panel classname="XInfoPanel"/>
		<panel classname="ShortcutPanel"/>
		<panel classname="SimpleFinishPanel"/>
	</panels>
	<!-- 
        The packs section.
        We specify here our packs.
    -->
	<packs>
		<pack name="Base" required="yes">
			<description>The base files</description>
			<!-- copy the jar files, except cupruntime, which is included in jsesh.jar. -->
			<!-- cupruntime is useful during development, in order to be able to run the project without building jsesh.jar -->
			<!-- The only jar files in the dist directory must be those which will be copied. This solves the problem of macSpecific.jar
			<file src="../dist/jsesh.jar" targetdir="$INSTALL_PATH/libs"/>
			<file src="../dist/jseshGlyphs.jar" targetdir="$INSTALL_PATH/libs"/>
			<file src="../dist/jseshHtmlDoc.jar" targetdir="$INSTALL_PATH/libs"/>
			 -->
			<fileset targetdir="$INSTALL_PATH/libs" dir="../dist">
				<include name="*.jar"/>
			</fileset>
			
			<fileset targetdir="$INSTALL_PATH/libs" dir="../lib">
				<exclude name="cupruntime.jar" />
                <exclude name="AppleJavaExtensions.jar"/>
			</fileset>
			<!-- resources : icons, licences... -->
			<fileset dir="../resources/images" targetdir="$INSTALL_PATH/icons"/>			
			<fileset dir="../resources/licenses" targetdir="$INSTALL_PATH/licenses"/>
			<file src="../resources/fonts/MDCTranslitLC.ttf" targetdir="$INSTALL_PATH/fonts"/>
			<!-- files related to the sign information editor -->
			
			<file src="../resources/signInfoScripts/signInfoEditor.command" targetdir="$INSTALL_PATH/bin">
				<os family="mac"/>
			</file>
			<file src="../resources/signInfoScripts/signInfoEditor.bat" targetdir="$INSTALL_PATH/bin">
				<os family="windows"/>
			</file>
			<file src="../resources/signInfoScripts/signInfoEditor.sh" targetdir="$INSTALL_PATH/bin">
				<os family="unix"/>
			</file>

			<parsable targetfile="$INSTALL_PATH/bin/signInfoEditor.command">
				<os family="mac"/>
			</parsable>
			<executable targetfile="$INSTALL_PATH/bin/signInfoEditor.command">
				<os family="mac"/>
			</executable>
			<parsable targetfile="$INSTALL_PATH/bin/signInfoEditor.bat">
				<os family="windows"/>
			</parsable>
			<executable targetfile="$INSTALL_PATH/bin/signInfoEditor.bat">
				<os family="windows"/>
			</executable>
			<parsable targetfile="$INSTALL_PATH/bin/signInfoEditor.sh">
				<os family="unix"/>
			</parsable>
			<executable targetfile="$INSTALL_PATH/bin/signInfoEditor.sh">
				<os family="unix"/>
			</executable>
			<!-- rtf cleaner (mainly for mac)  -->
			<file src="../dist/rtfCleaner.jar" targetdir="$INSTALL_PATH/bin">
				
			</file>
			
			<!-- Post processing for macosx : make JSesh a true Mac Application. -->
			<file src="../macdist/JSesh.app" targetdir="$INSTALL_PATH" os="mac"/>
			<file src="copyStub.jar" targetdir="$INSTALL_PATH" os="mac"/>
			<executable targetfile="$INSTALL_PATH/copyStub.jar" class="jseshInstall.CopyStub" type="jar" 
				stage="postinstall" keep="false" >				
				<args>
					<arg value="$INSTALL_PATH"/>
				</args>
				<os family="mac"></os>
 			</executable>
			<!-- End of macosx specific part. -->
		</pack>
		<!-- Replaced by PDF version. 
		<pack name="User Documentation" required="no">
			<description>End user documentation, in HTML format</description>
			<fileset dir="../build/jseshResources/userdoc" targetdir="$INSTALL_PATH/userdoc">
			</fileset>
		</pack>
		 -->
		<pack name="Egyptian texts" required="no">
			<description>A number of Egyptian texts for JSesh. Includes quite a few classics, plus a lot of Late Egyptian texts.</description>
			<fileset dir="../resources/texts" targetdir="$INSTALL_PATH/EgyptianTexts"/>
		</pack>
		<pack name="Hieroglyphic Font Sources" required="no">
			<description>SVG fonts for the hieroglyphs. Useful as starting point if you want to create your own signs.</description>
			<singlefile src="../dist/jseshGlyphs.jar" target="$INSTALL_PATH/jseshGlyphs.zip"/>
				
		</pack>
		<pack name="PDF User Documentation" required="no">
			<description>Printable End user documentation, in PDF format</description>
			<file src="../resources/userdoc/jseshDoc.pdf" targetdir="$INSTALL_PATH"/>
		</pack>
		<!-- As we now integrated the sources in the sourceforge package, there is no need to save them here.		
		<pack name="Technical Documentation" required="no" preselected="no">
			<description>A Documentation for those who want to extend JSesh or to use it as a library for their own programs.
				Most users don't need it.
			</description>
			<fileset dir="../doc" targetdir="$INSTALL_PATH/doc"/>
		</pack>
		<pack name="Sources" required="no" preselected="no">
			<description>The java sources, for those who want to extend JSesh or want to know how it's done.
Most users really don't need it. Note that more complete sources (with ant scripts, and everything needed to compile jsesh), are distributed separately.
				 </description>
			<fileset dir="../src" targetdir="$INSTALL_PATH/src"/>
			<fileset dir="../resources/grammars" targetdir="$INSTALL_PATH/grammars"/>
		</pack>
		 -->
	</packs>
	
	<native type="izpack" name="ShellLink.dll"/>
	
</installation>